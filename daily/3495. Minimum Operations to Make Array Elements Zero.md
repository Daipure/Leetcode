l到r的step = 1到R 減去 1到L-1 
所以要快速算出從1到n 要幾個step
觀察出只要落在 4的指數區間該段數字的總次數就為 數字範圍*指數
如果不再區間 數字範圍為 數字減去起始位置*指數


```cpp
class Solution {
public:
    long long cal_step(long long num){
        if (num == 0)return 0; 

        long long k = 1,total_step = 0,start = 1 , end = 0;

        while(true){
            end = start*4-1;
            if(num>=end){
                total_step+= (end-start+1)*k;
            }
            // 不完整的
            else{
                total_step += (num-start+1)*k;
                break;
            }
            start= start*4;
            k++;
        }
        return total_step;
    }
    long long minOperations(vector<vector<int>>& queries) {
        int l = 0 ,r = 0;
        long long total_oper = 0;;

        for(int i=0;i<queries.size();i++){
            l = queries[i][0];
            r = queries[i][1];
            long long total_step = cal_step(r)-cal_step(l-1);
            long long oper =  (total_step+1)/2;
            total_oper += oper;
        }
        return total_oper;
    }
};

```
