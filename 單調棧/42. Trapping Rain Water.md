接雨水要找出 對每一個點 找到左邊以及右邊 第一個比他大的 ，因此想到(單調棧)

```cpp

class Solution {
public:
    int trap(vector<int>& height) {
        // 橫向求面積
        // 對每一個點 找到左邊以及右邊 第一個比他大的 (單調棧)
        int res = 0;
        if(height.size()<=2)return 0;

        stack<int>sta;
        sta.push(0);

        for(int i=1;i<height.size();i++){
            if(height[i] < height[sta.top()]){
                sta.push(i);
            }
            else if(height[i] == height[sta.top()]){
                // 一樣存不了水 pop出來減少計算
                sta.pop();
                sta.push(i);
            }
            else{
                while(!sta.empty() && height[i] > height[sta.top()]){
                    int mid = sta.top();
                    sta.pop();
                    // 沒有左值了
                    if (sta.empty()) {
                        break;
                    }
                    int h = min(height[sta.top()],height[i])-height[mid];
                    int w  = i-sta.top()-1;
                    res += h*w;
                }
                sta.push(i);
            }
        }

        return res;

    }
};

```
